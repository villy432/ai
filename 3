class PQueue():def __init__(self):self.dict = {}self.keys = []self.sorted = Falsedef push(self, k, v):self.dict[k] = vself.sorted = Falsedef _sort(self):self.keys = sorted(self.dict, key=self.dict.get,reverse=True)self.sorted = Truedef pop(self):try:if not self.sorted:self._sort()key = self.keys.pop()value = self.dict[key]self.dict.pop(key)return key, valueexcept:return Nonedef path_costs(path):c = {}with open(path, 'r') as file:for line in file:line = line.split(", ")v = int(line.pop())e1 = line.pop()e2 = line.pop()if e1 not in c:c[e1] = {}if e2 not in c:c[e2] = {}c[e1][e2] = c[e2][e1] = vreturn cdef ucs(start, goal, g):frontier = PQueue()# pushing path and cost to pqueuefrontier.push(start, 0)
while True:# poping path with least costpath, cost = frontier.pop()print(path+ " " +str(cost))# splitting out end node in pathend = path.split("->")[-1]if goal == end:breakfor node, weight in g[end].items():# adding edge weight(cost) to total costnew_cost = cost + weightnew_path = path + "->" + node# adding new path and cost to pqueuefrontier.push(new_path, new_cost)ucs('Arad', 'Bucharest', path_costs('/home/Paths.txt'))



Arad 0Arad->Zerind 75Arad->Timisoara 118Arad->Sibiu 140Arad->Zerind->Oradea 146Arad->Zerind->Arad 150Arad->Zerind->Oradea->Zerind 217Arad->Sibiu->Rimnicu Vilcea 220Arad->Zerind->Arad->Zerind 225Arad->Timisoara->Lugoj 229Arad->Timisoara->Arad 236Arad->Sibiu->Fagaras 239Arad->Zerind->Arad->Timisoara 268Arad->Sibiu->Arad 280Arad->Zerind->Oradea->Zerind->Oradea 288Arad->Zerind->Arad->Sibiu 290Arad->Sibiu->Oradea 291Arad->Zerind->Oradea->Zerind->Arad 292Arad->Zerind->Arad->Zerind->Oradea 296Arad->Zerind->Oradea->Sibiu 297Arad->Timisoara->Lugoj->Mehadia 299Arad->Zerind->Arad->Zerind->Arad 300Arad->Sibiu->Rimnicu Vilcea->Sibiu 300Arad->Timisoara->Arad->Zerind 311Arad->Sibiu->Rimnicu Vilcea->Pitesti 317Arad->Sibiu->Fagaras->Sibiu 338Arad->Timisoara->Lugoj->Timisoara 340Arad->Timisoara->Arad->Timisoara 354Arad->Sibiu->Arad->Zerind 355Arad->Zerind->Oradea->Zerind->Oradea->Zerind 359Arad->Sibiu->Oradea->Zerind 362Arad->Sibiu->Rimnicu Vilcea->Craiova 366Arad->Zerind->Arad->Zerind->Oradea->Zerind 367Arad->Zerind->Oradea->Zerind->Arad->Zerind 367Arad->Timisoara->Lugoj->Mehadia->Lugoj 369Arad->Zerind->Arad->Sibiu->Rimnicu Vilcea 370Arad->Timisoara->Lugoj->Mehadia->Dobreta 374Arad->Zerind->Arad->Zerind->Arad->Zerind 375Arad->Timisoara->Arad->Sibiu 376Arad->Zerind->Oradea->Sibiu->Rimnicu Vilcea 377
Arad->Zerind->Arad->Timisoara->Lugoj 379Arad->Sibiu->Rimnicu Vilcea->Sibiu->Rimnicu Vilcea 380Arad->Timisoara->Arad->Zerind->Oradea 382Arad->Timisoara->Arad->Zerind->Arad 386Arad->Zerind->Arad->Timisoara->Arad 386Arad->Zerind->Arad->Sibiu->Fagaras 389Arad->Zerind->Oradea->Sibiu->Fagaras 396Arad->Sibiu->Arad->Timisoara 398Arad->Sibiu->Rimnicu Vilcea->Sibiu->Fagaras 399Arad->Zerind->Oradea->Zerind->Arad->Timisoara 410Arad->Sibiu->Rimnicu Vilcea->Pitesti->Rimnicu Vilcea 414Arad->Sibiu->Fagaras->Sibiu->Rimnicu Vilcea 418Arad->Sibiu->Rimnicu Vilcea->Pitesti->Bucharest 418
